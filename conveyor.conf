// Compose Desktop packaging for DineEase POS
include required("/stdlib/jdk/17/openjdk.conf")

app {
  jvm {
    gui {
      main-class = "com.zamulabs.dineeasepos.MainKt"
    }
  }

  // Input JAR built with ./gradlew jvmJar
  inputs = [ "composeApp/build/libs/composeApp-jvm-*.jar" ]

  display-name = "DineEase POS"
  fsname = "dineease-pos"
  rdns-name = "com.zamulabs.dineeasepos"
  vendor = "Zamulabs"
  license = "Apache-2.0"
  vcs-url = "https://github.com/zamulabs/DineEasePOS"
  app.site.github.oauth-token = ${env.MY_GITHUB_TOKEN}
  app.site.github.pages-branch = "gh-pages"
  contact-email = "contact@zamulabs.com"

  // Update / release site
  site.base-url = "https://github.com/zamulabs/DineEasePOS/releases/latest/download"

  machines = [
    windows.amd64,
    linux.amd64.glibc,
    mac.amd64,
    mac.aarch64
  ]

  // Placeholder icon (will generate a simple one if no real SVG/PNGs are supplied)
  icons {
    label = "DP"
    gradient = blue
  }
}

conveyor.compatibility-level = 19

